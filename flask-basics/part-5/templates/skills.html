{% extends "base.html" %}

{% block title %}
Projects Using {{ skill_name }} | {{ info.name }}
{% endblock %}

{% block content %}

<!-- ================= SKILL HEADER ================= -->
<div class="card">
    <h2>
        Projects Using
        <span style="color: var(--primary);">{{ skill_name }}</span>
    </h2>
    <p style="margin-top: 10px; color: var(--text-light);">
        Showing all projects where <strong>{{ skill_name }}</strong> is used.
    </p>
</div>

<!-- ================= PROJECTS LIST ================= -->
{% if projects %}
    <div class="projects-grid">
        {% for project in projects %}
            <div class="project-card">

                <h3 style="margin-bottom: 6px;">
                    {{ project.name }}
                </h3>

                <!-- STATUS -->
                {% if project.status|lower == 'completed' %}
                    <span class="status status-completed">Completed</span>
                {% elif project.status|lower == 'in progress' %}
                    <span class="status status-in-progress">In Progress</span>
                {% endif %}

                <!-- DESCRIPTION -->
                <p style="margin-top: 12px; color: var(--text-light);">
                    {{ project.description }}
                </p>

                <!-- TECH STACK -->
                <div class="tech-tags" style="margin-top: 12px;">
                    {% for tech in project.tech %}
                        <span class="tech-tag">{{ tech }}</span>
                    {% endfor %}
                </div>

                <!-- ACTION -->
                <div style="margin-top: 18px;">
                    <a href="{{ url_for('project_detail', project_id=project.id) }}"
                       class="btn btn-primary">
                        View Project
                    </a>
                </div>

            </div>
        {% endfor %}
    </div>

{% else %}
    <!-- NO PROJECTS -->
    <div class="card">
        <p>
            No projects found using
            <strong style="color: var(--primary);">{{ skill_name }}</strong>.
        </p>
    </div>
{% endif %}

<!-- ================= BACK BUTTON ================= -->
<div class="card" style="text-align: center;">
    <a href="{{ url_for('projects') }}" class="btn btn-secondary">
        ‚Üê Back to Projects
    </a>
</div>

{% endblock %}
